{"version":3,"sources":["components/Button/Button.js","api/filmsApi.js","assets/Netflix.png","components/Carousel/Carousel.js","pages/Main/Main.js","pages/Registration/Registration.js","components/Modal/Modal.js","pages/Home/Home.js","components/App/App.js","index.js"],"names":["Button","name","styles","showInput","className","onClick","getFilms","a","fetch","res","ok","Error","json","MainCarousel","useState","films","setFilms","useEffect","then","data","slideItems","slice","renderFilm","map","title","plot","actors","id","poster","trunkString","string","length","Carousel","Item","style","visibility","src","img","alt","Caption","Main","hideNameInput","to","LoginSchema","Yup","email","required","password","min","matches","Registration","shouldShowNameInput","initialValues","validationSchema","onSubmit","values","setSubmitting","localStorage","setItem","window","location","replace","type","placeholder","component","color","Modal","isOpen","toggleModal","showInfoInModal","children","e","stopPropagation","Home","currentList","setCurrentList","fetching","setFetching","setIsOpen","modalId","setModalId","filmsList","prevState","finally","document","addEventListener","scrollHandler","removeEventListener","target","documentElement","scrollHeight","scrollTop","innerHeight","item","writer","imdbrating","user","getItem","filmList","year","genre","director","userName","App","setShouldShowNameInput","showNameInput","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8149554b.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Button = ({name, styles, showInput}) => {\n\n\n\n  return (\n    <button className={styles} onClick={() => showInput()}>{name}</button>\n  )\n};\n\nexport default Button;","export const getFilms = async () => {\n  const res = await fetch('/imdb.json');\n  if (!res.ok) {\n    throw new Error('Server error');\n  }\n  return await res.json()\n};","export default __webpack_public_path__ + \"static/media/Netflix.1412b1dd.png\";","import React, {useEffect, useState} from \"react\";\nimport Carousel from \"react-bootstrap/Carousel\";\nimport {getFilms} from \"../../api/filmsApi\";\nimport './Carousel.scss';\nimport img from '../../assets/Netflix.png';\n\nconst MainCarousel = () => {\n\n  const [films, setFilms] = useState([]);\n\n  useEffect(() => {\n    getFilms()\n      .then(data => {\n        const slideItems = data.slice(0, 3);\n        setFilms(slideItems)\n      })\n  }, []);\n\n  const renderFilm = films.map(({title, plot, actors, id, poster}) => {\n\n    const trunkString = string => {\n      if (plot.length > 50) {\n        const newString = string.slice(0, 47) + '...';\n        return newString\n      }\n      return string;\n    };\n\n    return (\n      <Carousel.Item key={id}>\n        <img\n          style={{visibility: 'hidden'}}\n          className=\"d-block w-100\"\n          src={img}\n          alt=\"film\"\n        />\n        <Carousel.Caption>\n          <img\n          src={poster}\n          alt='poster'/>\n          <h3>{title}</h3>\n          <h5>Starring: {trunkString(actors)}</h5>\n          <p>{trunkString(plot)}</p>\n        </Carousel.Caption>\n      </Carousel.Item>\n    )\n  });\n\n  return (\n    <Carousel>\n      {renderFilm}\n    </Carousel>\n  )\n};\n\nexport default MainCarousel;","import React from \"react\";\nimport './Main.scss';\nimport Button from \"../../components/Button/Button\";\nimport Carousel from \"../../components/Carousel/Carousel\";\nimport {Link} from \"react-router-dom\";\n\nconst Main = ({showInput, hideNameInput}) => {\n\n  return (\n    <div className='bg'>\n      <div className='btn-wrapper'>\n        <Link to='/registration'>\n          <Button name='SIGN UP'\n                  styles='btn btn-light'\n                  showInput={showInput}/>\n        </Link>\n        <Link to='/registration'>\n          <Button name='SIGN IN'\n                  styles='btn btn-light'\n                  showInput={hideNameInput}/>\n        </Link>\n        <Link to='/home'>\n          <Button name='BROWSE'\n                  styles='btn btn-light'\n                  showInput={hideNameInput}/>\n        </Link>\n      </div>\n      <Carousel/>\n    </div>\n  )\n};\n\nexport default Main;","import React from \"react\";\nimport {ErrorMessage, Field, Form, Formik} from \"formik\";\nimport * as Yup from 'yup';\n\nimport './Registration.scss';\n\nconst LoginSchema = Yup.object({\n  email: Yup.string().email('Invalid email address').required('Required'),\n  password: Yup.string()\n    .min(6, 'Should contains at least 6 characters').required('Required')\n    // eslint-disable-next-line\n    .matches(/^[0-9A-Za-z]*[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?][0-9a-zA-Z]*$/, 'Should contains at least one special character')\n});\n\nconst Registration = ({shouldShowNameInput}) => {\n\n  return (\n    <Formik\n      initialValues={{name: '', email: '', password: ''}}\n      validationSchema={LoginSchema}\n      onSubmit={(values, {setSubmitting}) => {\n        localStorage.setItem('inputValues', null)\n        if (values.email === 'intvw@g.co' && values.password === 'aa@AA1') {\n          window.location.replace('/home');\n          setSubmitting(false);\n          localStorage.setItem('user', values.name);\n        }\n      }}\n    >\n      {({values}) => (\n        <Form className='form'>\n          {shouldShowNameInput ?\n            <div className='form-group'>\n              <Field name=\"name\"\n                     type=\"text\"\n                     className=\"form-control\"\n                     placeholder=\"Name\"/>\n              <ErrorMessage name=\"name\"/>\n            </div> : null\n          }\n          <div className='form-group'>\n            <Field name=\"email\"\n                   type=\"email\"\n                   className=\"form-control\"\n                   placeholder=\"Email\"/>\n            <ErrorMessage name=\"email\"\n                          component='div'\n                          style={{color: 'red'}}/>\n          </div>\n\n          <div className='form-group'>\n            <Field name=\"password\"\n                   type=\"password\"\n                   className=\"form-control\"\n                   placeholder=\"Password\"/>\n            <ErrorMessage name=\"password\"\n                          component='div'\n                          style={{color: 'red'}}/>\n          </div>\n\n          <button type='submit'\n                  className='btn btn-warning form-group'>Login\n          </button>\n          {shouldShowNameInput && (!((values.email === '' && values.password === '' && values.name === ''))) ?\n            <button type='button'\n                    className='btn btn-outline-warning'>Resume</button> : null}\n        </Form>\n      )}\n    </Formik>\n  )\n};\n\nexport default Registration;","import React from \"react\";\nimport './Modal.scss';\n\nconst Modal = ({isOpen, toggleModal, showInfoInModal, children}) => {\n\n  return (\n    <>\n      <div onClick={() => toggleModal}\n           className={isOpen ? 'modal-container active' : 'modal-container'}>\n        <div className='modal-info'\n             onClick={(e) => e.stopPropagation()}>\n          <h4 className='title'>Film details</h4>\n          {showInfoInModal}\n          {children}\n        </div>\n      </div>\n    </>\n  )\n};\n\nexport default Modal;","import React, {useEffect, useState} from \"react\";\nimport {getFilms} from \"../../api/filmsApi\";\nimport './Home.scss';\nimport {NavLink} from \"react-router-dom\";\nimport Button from \"../../components/Button/Button\";\nimport Modal from \"../../components/Modal/Modal\";\n\nconst Home = ({showInput, hideNameInput}) => {\n\n  const [films, setFilms] = useState([]);\n  const [currentList, setCurrentList] = useState(20);\n  const [fetching, setFetching] = useState(true);\n  const [isOpen, setIsOpen] = useState(false);\n  const [modalId, setModalId] = useState(0);\n\n  useEffect(() => {\n    if (fetching) {\n      getFilms()\n        .then(data => {\n          const filmsList = data.slice(3, currentList);\n          setFilms(filmsList);\n          setCurrentList(prevState => prevState + 20)\n        })\n        .finally(() => setFetching(false))\n    }\n    // eslint-disable-next-line\n  }, [fetching]);\n\n  useEffect(() => {\n    document.addEventListener('scroll', scrollHandler);\n\n    return function () {\n      document.removeEventListener('scroll', scrollHandler);\n    }\n  }, []);\n\n  const scrollHandler = e => {\n    if (e.target.documentElement.scrollHeight - (e.target.documentElement.scrollTop + window.innerHeight) < 100) {\n      setFetching(true)\n    }\n  };\n\n  const toggleModal = (id) => {\n    setIsOpen(!isOpen);\n    setModalId(id);\n  };\n  // eslint-disable-next-line\n  const showInfoInModal = films.map(item => {\n    const {plot, writer, actors, imdbrating} = item;\n    if (modalId === item.id) {\n      return (\n        <div key={modalId}>\n          <div>Plot: {plot}</div>\n          <div>Writer: {writer}</div>\n          <div>Actors: {actors}</div>\n          <div>Imdbrating: {imdbrating}</div>\n        </div>\n      )\n    }\n  });\n\n  const user = localStorage.getItem('user');\n\n  const filmList = films.map(({id, title, poster, year, genre, director, imdbrating}) => {\n    return (\n      <li key={id}>\n        <img src={poster}\n             alt=\"poster\"/>\n        <h4>{title}</h4>\n        {user ? <div><div>{genre}</div>\n          <div>{director}</div>\n          <div>{year}</div>\n          <button className='btn btn-warning'\n                  onClick={() => toggleModal(id)}>show more\n          </button>\n          {+imdbrating <= 9 ? <span className='icon'>\n          <i className=\"far fa-thumbs-down\"></i>\n        </span>: null}</div> : null}\n      </li>\n    )\n  });\n\n  const userName = localStorage.getItem('user');\n\n  const handleClickByWindow = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return (\n    <div onClick={handleClickByWindow}>\n      <div className='btn-wrapper'>\n        {(userName === '' || userName === null) ? <div><NavLink to='/registration'>\n          <Button name='SIGN UP'\n                  styles='btn btn-info'\n                  showInput={showInput}/>\n        </NavLink>\n          <NavLink to='/registration'>\n            <Button name='SIGN IN'\n                    styles='btn btn-info'\n                    showInput={hideNameInput}/>\n          </NavLink></div> : <h4>Hello {userName}</h4>}\n      </div>\n      <ul className='list-items'>\n        {filmList}\n      </ul>\n      <Modal isOpen={isOpen}\n             toggleModal={toggleModal}\n             films={films}\n             showInfoInModal={showInfoInModal}>\n        <button className='btn btn-light'\n                onClick={toggleModal}>Close\n        </button>\n      </Modal>\n    </div>\n  )\n};\n\nexport default Home;","import React, {useState} from \"react\";\nimport Main from \"../../pages/Main/Main\";\nimport {Route, Switch} from \"react-router-dom\";\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Registration from \"../../pages/Registration/Registration\";\nimport Home from \"../../pages/Home/Home\";\n\nconst App = () => {\n\n  const [shouldShowNameInput, setShouldShowNameInput] = useState(true);\n\n  const showNameInput = () => {\n    setShouldShowNameInput(true)\n  };\n\n  const hideNameInput = () => {\n    setShouldShowNameInput(false)\n  };\n\n  return (\n    <>\n      <Switch>\n        <Route exact\n               path='/'>\n          <Main\n            showInput={showNameInput}\n            hideNameInput={hideNameInput}/>\n        </Route>\n        <Route exact\n               path='/home'>\n          <Home\n            showInput={showNameInput}\n            hideNameInput={hideNameInput}/>\n        </Route>\n        <Route exact\n               path='/registration'>\n          <Registration\n            shouldShowNameInput={shouldShowNameInput}>\n          </Registration>\n        </Route>\n\n      </Switch>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App/>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}